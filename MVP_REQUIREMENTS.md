# WeStep MVP 要件定義書

**WeStep** - みんなで一歩ずつ、世界を変えよう

## 🎯 MVP の目標

最小限の実用機能で**WeStep**の核心価値を提供し、ユーザーからのフィードバックを迅速に収集できるプロダクトを開発する。

### MVP コンセプト

-   **個人の目標達成習慣化** + **コミュニティからのモチベーション** の組み合わせ
-   1 日 1 つの 100%達成可能な目標設定・達成記録
-   シンプルなコミュニティ機能でつながりを感じられる体験

## 📋 MVP 機能スコープ

### ✅ Phase 1: 必須機能 (MVP リリース対象)

#### 1. 認証システム

-   **メール認証によるサインアップ/ログイン**
-   **ユーザープロフィール** (名前・アバター)
-   **ログアウト機能**

#### 2. 個人目標管理 (コア機能)

-   **今日の目標設定** (1 日 1 つのみ)
    -   目標タイトル (必須, 最大 100 文字)
    -   目標詳細 (任意, 最大 500 文字)
-   **目標達成ボタン** (完了/未完了の切り替え)
-   **連続達成日数** の表示
-   **個人達成統計**
    -   総達成日数
    -   達成率 (今月・全期間)
    -   最高連続記録

#### 3. シンプルなコミュニティ機能

-   **今日の達成者数** リアルタイム表示
-   **最近の達成一覧** (直近 10 件)
    -   ユーザー名・目標タイトル・達成時刻を表示
    -   プライバシー設定で非表示可能
-   **総合統計表示**
    -   総ユーザー数
    -   今日の達成者数
    -   累計達成回数

#### 4. 基本 UI

-   **レスポンシブデザイン** (モバイル・デスクトップ対応)
-   **ダークモード対応**
-   **シンプルなナビゲーション**

### 🚧 Phase 2: 次期追加予定 (MVP 後の拡張)

-   **週間カレンダー表示**
-   **連続達成ランキング** (TOP 10)
-   **簡単な応援機能** (👏 ボタン)
-   **目標カテゴリー分類**

### ❌ Phase 3: 将来検討 (MVP 対象外)

-   地域別活動マップ
-   グローバルチャレンジ
-   詳細な応援メッセージ機能
-   時間別達成分布
-   バッジ・アチーブメント

## 🖼️ MVP UI 設計

### メイン画面 (統合ダッシュボード)

```
┌─────────────────────────────────────┐
│   🎯 WeStep - みんなで一歩ずつ        │
│                                     │
│  ┌─────────────────────────────────┐ │
│  │       👤 あなたの今日            │ │
│  │                                 │ │
│  │  🔥 連続達成: 12日               │ │
│  │  📊 今月達成率: 85.7%            │ │
│  │                                 │ │
│  │  📝 今日の目標:                  │ │
│  │  [___________________]          │ │
│  │  目標を入力してください           │ │
│  │                                 │ │
│  │     [✅ 目標を設定する]          │ │
│  └─────────────────────────────────┘ │
│                                     │
│  ┌─────────────────────────────────┐ │
│  │      🌍 コミュニティ活動         │ │
│  │                                 │ │
│  │  👥 1,247人のユーザー            │ │
│  │  🔥 今日234人が達成              │ │
│  │  ⚡ 総達成回数: 12,847回         │ │
│  │                                 │ │
│  │  📋 最近の達成:                 │ │
│  │  🎉 Taro_S「読書」達成          │ │
│  │  ✨ Yuki_T「運動」達成          │ │
│  │  🌟 Hana_S「瞑想」達成          │ │
│  │                                 │ │
│  │    [もっと見る]                 │ │
│  └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

### 目標設定時の画面

```
┌─────────────────────────────────────┐
│        📝 今日の目標を設定           │
│                                     │
│  目標タイトル:                       │
│  [___________________________]     │
│  例: 本を10ページ読む                │
│                                     │
│  詳細 (任意):                       │
│  [___________________________]     │
│  [___________________________]     │
│  [___________________________]     │
│                                     │
│  💡 100%達成できる小さな目標にしよう │
│                                     │
│     [キャンセル] [目標を設定]        │
└─────────────────────────────────────┘
```

### 目標達成時の画面

```
┌─────────────────────────────────────┐
│           🎉 目標達成！              │
│                                     │
│  ✅ 本を10ページ読む                 │
│     達成時刻: 14:30                 │
│                                     │
│  🔥 連続達成: 13日 (NEW!)           │
│  📈 今月達成率: 87.1% (+3.2%)       │
│                                     │
│  🌍 コミュニティに共有されました      │
│  👥 今日の達成者: 235人目           │
│                                     │
│  💪 素晴らしい継続力です！           │
│     明日も一歩ずつ進みましょう       │
│                                     │
│       [明日の目標を設定する]         │
└─────────────────────────────────────┘
```

## 📊 データベース設計 (MVP)

### テーブル構成

#### 1. users (ユーザー)

```sql
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR(255) UNIQUE NOT NULL,
  name VARCHAR(100) NOT NULL,
  avatar_url VARCHAR(500),
  privacy_settings JSONB DEFAULT '{"show_in_feed": true}',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### 2. daily_goals (日次目標)

```sql
CREATE TABLE daily_goals (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  title VARCHAR(100) NOT NULL,
  description TEXT,
  date DATE NOT NULL,
  is_completed BOOLEAN DEFAULT false,
  completed_at TIMESTAMP WITH TIME ZONE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),

  UNIQUE(user_id, date)
);

-- インデックス
CREATE INDEX idx_daily_goals_user_date ON daily_goals(user_id, date DESC);
CREATE INDEX idx_daily_goals_completed ON daily_goals(is_completed, completed_at DESC);
```

#### 3. user_stats (ユーザー統計) ※集計用

```sql
CREATE TABLE user_stats (
  user_id UUID PRIMARY KEY REFERENCES users(id) ON DELETE CASCADE,
  total_goals INT DEFAULT 0,
  completed_goals INT DEFAULT 0,
  current_streak INT DEFAULT 0,
  max_streak INT DEFAULT 0,
  last_completed_date DATE,
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

## 🔧 技術仕様

### フロントエンド

-   **Next.js 14** (App Router)
-   **TypeScript**
-   **Tailwind CSS**
-   **Zustand** (状態管理)

### バックエンド

-   **Supabase** (PostgreSQL + Auth + Realtime)
-   **Prisma** (ORM)
-   **Server Actions** (API)

### リアルタイム機能

-   **Supabase Realtime** で達成通知
-   **ポーリング** で統計データ更新 (30 秒間隔)

## 🎨 デザインシステム (MVP)

### カラーパレット (簡素化)

```css
:root {
	--primary: #3b82f6; /* 青 */
	--secondary: #22c55e; /* 緑 */
	--accent: #f97316; /* オレンジ */
	--gray: #6b7280; /* グレー */
	--success: #10b981; /* 成功色 */
}
```

### 基本コンポーネント

-   **Button** (Primary/Secondary)
-   **Input** (テキスト・テキストエリア)
-   **Card** (統計・目標表示用)
-   **Modal** (目標設定用)

## 📱 レスポンシブ対応

### モバイル版 (320px~768px)

```
┌─────────────────────┐
│  🎯 WeStep          │
│                     │
│ 🔥 連続12日 📊85.7% │
│                     │
│ ┌─────────────────┐ │
│ │ 📝 今日の目標    │ │
│ │ [_____________] │ │
│ │  [目標を設定]   │ │
│ └─────────────────┘ │
│                     │
│ ┌─────────────────┐ │
│ │ 🌍 コミュニティ  │ │
│ │ 👥1,247 🔥234   │ │
│ │                 │ │
│ │ 📋 最近の達成:   │ │
│ │ 🎉 Taro「読書」 │ │
│ │ ✨ Yuki「運動」 │ │
│ └─────────────────┘ │
└─────────────────────┘
```

## 🚀 MVP 開発計画

### Phase 1: 基盤開発 (2 週間)

-   [ ] プロジェクトセットアップ
-   [ ] 認証システム実装
-   [ ] 基本 UI コンポーネント作成
-   [ ] データベーススキーマ構築

### Phase 2: コア機能実装 (2 週間)

-   [ ] 目標設定・達成機能
-   [ ] 個人統計機能
-   [ ] 基本コミュニティ機能
-   [ ] レスポンシブデザイン

### Phase 3: 統合・テスト (1 週間)

-   [ ] 機能統合
-   [ ] バグ修正
-   [ ] パフォーマンス最適化
-   [ ] MVP リリース

## 📈 成功指標 (MVP)

### ユーザーエンゲージメント

-   **DAU (Daily Active Users)**: 50 人
-   **目標設定率**: 70%以上
-   **目標達成率**: 60%以上
-   **継続率**: 7 日後 30%以上

### 技術指標

-   **ページ読み込み時間**: 2 秒以下
-   **モバイル対応**: 100%
-   **アップタイム**: 99%以上

## 🎯 MVP 後の展開方針

### ユーザーフィードバック収集

-   アプリ内フィードバック機能
-   ユーザーインタビュー
-   利用データ分析

### 機能拡張の優先順位

1. **ランキング機能** (競争要素追加)
2. **カレンダー表示** (進捗可視化)
3. **応援機能** (コミュニティ強化)
4. **カテゴリー分類** (目標管理改善)

---

## 💡 MVP の価値提案

**WeStep MVP**は以下の核心価値を提供：

1. **個人の習慣化支援** - 1 日 1 つの確実な目標達成
2. **コミュニティの力** - 他者の頑張りを見てモチベーション向上
3. **継続の可視化** - 連続達成日数で成長実感
4. **シンプルな体験** - 複雑すぎない、使いやすいインターフェース

この MVP を通じて「みんなで一歩ずつ、世界を変えよう」のビジョンを現実的に体験できるプラットフォームを提供します。 🌍✨
